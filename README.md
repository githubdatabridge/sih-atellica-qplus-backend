# sih-atellica-qplus-backend

### Info

-   Using `@hapi/hapi` for http server.
-   Has dependency injection setup. Refer to `PingController`, `PingService`, `PongService` for usage details.
-   Controller definitions allows for swagger definitions (using Joi validators)
-   Swagger is autogenerated and available at `{HOST:PORT}/documentation`
-   `jest` included for testing
-   `dotenv` for .env (environment) files
-   Node version: `v14.17.0 (LTS)`

### Steps to use

```
$cp .env.example .env
$npm install
$npm run dev
```

### Run Test Locally
`bash`
```
docker-compose -f ./tests/requirements/docker-compose-test-local.yml -p db-qplus-test up --build \
    --abort-on-container-exit \
    --exit-code-from qplus-app-api-test; \
docker rmi -f  $(docker images --filter=reference='db-qplus-test*:*') ; \
docker rm -f -v $(docker container ls -a --filter=name='db-qplus-test*' | awk '/db-qplus-test*/' | awk '{ print $1 }')
```

- To run other tests navigate to ./tests/requirements/
  - Create .env with one of 
    - POSTMAN_FILE_NAME=sih-atellica-qplus-backend.postman_collection.json
    - POSTMAN_FILE_NAME=sih-atellica-qplus-backend-bookmarks.postman_collection.json
    - POSTMAN_FILE_NAME=sih-atellica-qplus-backend-comments.postman_collection.json


